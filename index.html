<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Js Calculator</title>
    <style>
      .mycalculator {
        width: 400px;
        height: 400px;
        background-color: #333;
        margin: 40px auto;
        border-radius: 20px;
      }
      .myresult {
        width: 90%;
        height: 60px;
        background-color: #ccc;
        border-radius: 10px;
        margin: 45px auto;
        position: relative;
        top: 20px;
        line-height: 60px;
        padding-right: 20px;
        text-align: right;
      }
      .mytable {
        width: 100%;
        height: 290px;
        text-align: center;
      }
      table button {
        padding: 20px;
        font-weight: bolder;
      }
    </style>
  </head>
  <body>
    <div class="mycalculator">
      <div class="myresult"></div>
      <table class="mytable">
        <tr>
          <td><button onclick="showResult(this)">7</button></td>
          <td><button onclick="showResult(this)">8</button></td>
          <td><button onclick="showResult(this)">9</button></td>
          <td><button onclick="showResult(this)">x</button></td>
        </tr>
        <tr>
          <td><button onclick="showResult(this)">4</button></td>
          <td><button onclick="showResult(this)">5</button></td>
          <td><button onclick="showResult(this)">6</button></td>
          <td><button onclick="showResult(this)">/</button></td>
        </tr>

        <tr>
          <td><button onclick="showResult(this)">1</button></td>
          <td><button onclick="showResult(this)">2</button></td>
          <td><button onclick="showResult(this)">3</button></td>
          <td><button onclick="showResult(this)">-</button></td>
        </tr>

        <tr>
          <td><button onclick="showResult(this)">0</button></td>
          <td><button onclick="showResult(this)">.</button></td>
          <td><button onclick="showResult(this)">=</button></td>
          <td><button onclick="showResult(this)">+</button></td>
        </tr>
      </table>
    </div>
    <script>
      var isOperatorButtonClicked = false; // false
      let results = document.querySelector(".myresult");
      var leftValue;
      var rightValue;
      var operator = "";

      function showResult(elem) {

        results.innerHTML += elem.innerHTML;

        if (isOperatorButtonClicked === true && elem.innerHTML!== '=') {
          rightValue = elem.innerHTML;
          rightValue = window.localStorage.setItem("rightValue", rightValue);
          console.log("Right value ", elem.innerHTML);
        }
       
        switch (elem.innerHTML) {
         
          case "x":
            isOperatorButtonClicked = true;
            operator = "x";
            leftValue = results.innerHTML;
            window.localStorage.setItem("leftValue", leftValue);
            window.localStorage.setItem("operator", "x");
            break;

          case "/":
            isOperatorButtonClicked = true;
            operator = "/";
            leftValue = results.innerHTML;
            window.localStorage.setItem("leftValue", leftValue);
            window.localStorage.setItem("operator", "/");
            break;
          case "-":
            isOperatorButtonClicked = true;
            operator = "-";
            leftValue = results.innerHTML;
            window.localStorage.setItem("leftValue", leftValue);
            window.localStorage.setItem("operator", "-");
            break;
          case "+":
            isOperatorButtonClicked = true;
            operator = "+";
            leftValue = results.innerHTML;
            window.localStorage.setItem("leftValue", leftValue);
            window.localStorage.setItem("operator", "+");
            break;
          case "=":
            isOperatorButtonClicked = false;
            leftValue = window.localStorage.getItem("leftValue");
            rightValue = window.localStorage.getItem("rightValue");
            operator = window.localStorage.getItem("operator");
            leftValue = parseFloat(leftValue);
            rightValue = parseFloat(rightValue);
            switch (operator) {
              case "x":
                results.innerHTML = leftValue * rightValue;
                break;
                case "/":
                results.innerHTML = leftValue / rightValue;
                break;
                case "-":
                results.innerHTML = leftValue - rightValue;
                break;
                case "+":
                results.innerHTML = leftValue + rightValue;
                break;
              default:
            }
            break;
          default:
        }
       
      }
    </script>
  </body>
</html>
